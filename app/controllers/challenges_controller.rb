class ChallengesController < ApplicationController
  def index
  end

  def show
  end

  def new
  end

  # challenge needs:
  # create_table "challenges", force: :cascade do |t|
  #   t.string "location"
  #   t.string "food"
  #   t.datetime "due_by"
  #   t.boolean "complete", default: false
  #   t.integer "groupie_id"
  #   t.datetime "created_at", null: false
  #   t.datetime "updated_at", null: false
  #   t.index ["groupie_id"], name: "index_challenges_on_groupie_id"
  # end

  # Location is randomly generated by geonames api
      #google api needs 
        #lat  --get from group info
        #long  --get from group info
        #responseStyle
        #citySize
        #radius  --get from group info
        #maxRows
        #username
  # Food Generated by Food API
  # Due by now +24hr
  # groupies
   def create
    @groups = Group.all
    @style = 'short'
    @size = 'cities5000'
    @maxRows = '50'
    @username = 'rbsouth'
    @groups.each do |group|
      @radius = group.radius
      @latitude = group.latitude
      @longitude = group.longitude
      @geonames_api_call = JSON.parse(open('http://api.geonames.org/findNearbyPlaceNameJSON?lat='@latitude'&lng='@longitude'&style='@style'&cities='@size'&radius='@radius'&maxRows='@maxRows'&username='@username).read)
      @city_name = @geonames_api_call.geonames.sample.name
      Challenge.new()
    end
  end

  def edit
  end

  def update
  end

  def destroy
  end
end
